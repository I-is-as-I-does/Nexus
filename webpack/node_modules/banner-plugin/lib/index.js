!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.bannerPlugin=e():t.bannerPlugin=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=32)}([function(t,e,n){var r=n(22)("wks"),o=n(24),i=n(1).Symbol,u="function"==typeof i;(t.exports=function(t){return r[t]||(r[t]=u&&i[t]||(u?i:o)("Symbol."+t))}).store=r},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(8),o=n(18);t.exports=n(6)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){t.exports={}},function(t,e,n){var r=n(9);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){t.exports=!n(10)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(5),o=n(40),i=n(41),u=Object.defineProperty;e.f=n(6)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return u(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(20),o=n(12);t.exports=function(t){return r(o(t))}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(22)("keys"),o=n(24);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e,n){"use strict";var r=n(35),o=n.n(r),i=n(49),u=n.n(i),a=n(67),c=(n.n(a),n(68)),s=n.n(c);e.a={name:"BannerPlugin",data:function(){return{nearest:null,devHost:["app-builder.faas.ele.me","localhost:8080"]}},props:{data:{type:Object,default:function(){return{}}},geohash:String},computed:{nonProduct:function(){return this.devHost.includes(location.host)},btnStyle:function(){var t=this.data;return{width:t.width/75+"rem",height:t.height/75+"rem"}},trimmedImgHash_str:function(){return this.data.imgHashs.trim()},daysPassed:function(){var t=this.data.startDate.match(/(\d+)\.(\d+)\.(\d+)/).slice(1),e=u()(t,3),n=e[0],r=e[1],o=e[2],i=Date.now()-new Date(n,r-1,o);return i<0?0:Math.floor(i/864e5)},vImgParams:function(){var t=this.data,e=t.width,n=t.height,r=this.trimmedImgHash_str.split(/, */);return{width:e,height:n,hash:r[this.daysPassed%r.length]}},placeHolderStyle:function(){return o()(this.btnStyle,{background:"rgba(0, 0, 0, 0.3)"})},brandIds:function(){return this.data.brandIds.split(/, */)}},methods:{goBignameShop:function(){var t=navigator.userAgent,e=/Eleme/i.test(t);location.href=e?"eleme://restaurant?restaurant_id="+this.nearest.restaurant.id:"//h5.ele.me/shop/#id="+this.nearest.restaurant.id}},mounted:function(){var t=this;s.a.getLocation().then(function(e){var n=e.latitude,r=e.longitude,o=t.brandIds[t.daysPassed%t.brandIds.length];fetch("//mainsite-restapi.ele.me/shopping/v1/cluster_activity/"+o+"/restaurants?"+("activity_id="+o+"&latitude="+n+"&longitude="+r+"&limit=1&offset=0"),{credentials:"include",headers:{"x-shard":"loc="+r+","+n}}).then(function(t){return t.json()}).then(function(e){t.nearest=e.restaurants[0],nearest||(t.$refs.app.parentElement.style.display="none")}).catch(function(){})}).catch(function(t){console.log(t)})}}},function(t,e,n){var r=n(1),o=n(2),i=n(38),u=n(3),a=n(7),c=function(t,e,n){var s,f,l,d=t&c.F,p=t&c.G,h=t&c.S,v=t&c.P,g=t&c.B,m=t&c.W,y=p?o:o[e]||(o[e]={}),b=y.prototype,w=p?r:h?r[e]:(r[e]||{}).prototype;for(s in p&&(n=e),n)(f=!d&&w&&void 0!==w[s])&&a(y,s)||(l=f?w[s]:n[s],y[s]=p&&"function"!=typeof w[s]?n[s]:g&&f?i(l,r):m&&w[s]==l?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(l):v&&"function"==typeof l?i(Function.call,l):l,v&&((y.virtual||(y.virtual={}))[s]=l,t&c.R&&b&&!b[s]&&u(b,s,l)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,n){var r=n(9),o=n(1).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(43),o=n(25);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(21);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(2),o=n(1),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(23)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=!0},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(12);t.exports=function(t){return Object(r(t))}},function(t,e,n){n(52);for(var r=n(1),o=n(3),i=n(4),u=n(0)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<a.length;c++){var s=a[c],f=r[s],l=f&&f.prototype;l&&!l[u]&&o(l,u,s),i[s]=i.Array}},function(t,e,n){"use strict";var r=n(23),o=n(16),i=n(55),u=n(3),a=n(4),c=n(56),s=n(29),f=n(60),l=n(0)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,h,v,g,m){c(n,e,h);var y,b,w,_=function(t){if(!d&&t in O)return O[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},x=e+" Iterator",S="values"==v,P=!1,O=t.prototype,j=O[l]||O["@@iterator"]||v&&O[v],I=j||_(v),A=v?S?_("entries"):I:void 0,L="Array"==e&&O.entries||j;if(L&&(w=f(L.call(new t)))!==Object.prototype&&w.next&&(s(w,x,!0),r||"function"==typeof w[l]||u(w,l,p)),S&&j&&"values"!==j.name&&(P=!0,I=function(){return j.call(this)}),r&&!m||!d&&!P&&O[l]||u(O,l,I),a[e]=I,a[x]=p,v)if(y={values:S?I:_("values"),keys:g?I:_("keys"),entries:A},m)for(b in y)b in O||i(O,b,y[b]);else o(o.P+o.F*(d||P),e,y);return y}},function(t,e,n){var r=n(8).f,o=n(7),i=n(0)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){"use strict";var r=n(61)(!0);n(28)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var r=n(21),o=n(0)("toStringTag"),i="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,u;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:i?r(e):"Object"==(u=r(e))&&"function"==typeof e.callee?"Arguments":u}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"inBrowser",function(){return o});var r=n(33),o="undefined"!=typeof window;r.a.install=function(t){t.component(r.a.name,r.a)},e.default=r.a,o&&window.Vue&&window.Vue.use(r.a)},function(t,e,n){"use strict";var r=n(15),o=n(69),i=n(34)(r.a,o.a,!1,null,null,null);e.a=i.exports},function(t,e){t.exports=function(t,e,n,r,o,i){var u,a=t=t||{},c=typeof t.default;"object"!==c&&"function"!==c||(u=t,a=t.default);var s,f="function"==typeof a?a.options:a;if(e&&(f.render=e.render,f.staticRenderFns=e.staticRenderFns,f._compiled=!0),n&&(f.functional=!0),o&&(f._scopeId=o),i?(s=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},f._ssrRegister=s):r&&(s=r),s){var l=f.functional,d=l?f.render:f.beforeCreate;l?(f._injectStyles=s,f.render=function(t,e){return s.call(e),d(t,e)}):f.beforeCreate=d?[].concat(d,s):[s]}return{esModule:u,exports:a,options:f}}},function(t,e,n){t.exports={default:n(36),__esModule:!0}},function(t,e,n){n(37),t.exports=n(2).Object.assign},function(t,e,n){var r=n(16);r(r.S+r.F,"Object",{assign:n(42)})},function(t,e,n){var r=n(39);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){t.exports=!n(6)&&!n(10)(function(){return 7!=Object.defineProperty(n(17)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(9);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){"use strict";var r=n(19),o=n(47),i=n(48),u=n(26),a=n(20),c=Object.assign;t.exports=!c||n(10)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=r})?function(t,e){for(var n=u(t),c=arguments.length,s=1,f=o.f,l=i.f;c>s;)for(var d,p=a(arguments[s++]),h=f?r(p).concat(f(p)):r(p),v=h.length,g=0;v>g;)l.call(p,d=h[g++])&&(n[d]=p[d]);return n}:c},function(t,e,n){var r=n(7),o=n(11),i=n(44)(!1),u=n(14)("IE_PROTO");t.exports=function(t,e){var n,a=o(t),c=0,s=[];for(n in a)n!=u&&r(a,n)&&s.push(n);for(;e.length>c;)r(a,n=e[c++])&&(~i(s,n)||s.push(n));return s}},function(t,e,n){var r=n(11),o=n(45),i=n(46);t.exports=function(t){return function(e,n,u){var a,c=r(e),s=o(c.length),f=i(u,s);if(t&&n!=n){for(;s>f;)if((a=c[f++])!=a)return!0}else for(;s>f;f++)if((t||f in c)&&c[f]===n)return t||f||0;return!t&&-1}}},function(t,e,n){var r=n(13),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(13),o=Math.max,i=Math.min;t.exports=function(t,e){return(t=r(t))<0?o(t+e,0):i(t,e)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){"use strict";e.__esModule=!0;var r=i(n(50)),o=i(n(63));function i(t){return t&&t.__esModule?t:{default:t}}e.default=function(){return function(t,e){if(Array.isArray(t))return t;if((0,r.default)(Object(t)))return function(t,e){var n=[],r=!0,i=!1,u=void 0;try{for(var a,c=(0,o.default)(t);!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,u=t}finally{try{!r&&c.return&&c.return()}finally{if(i)throw u}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e,n){t.exports={default:n(51),__esModule:!0}},function(t,e,n){n(27),n(30),t.exports=n(62)},function(t,e,n){"use strict";var r=n(53),o=n(54),i=n(4),u=n(11);t.exports=n(28)(Array,"Array",function(t,e){this._t=u(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){t.exports=n(3)},function(t,e,n){"use strict";var r=n(57),o=n(18),i=n(29),u={};n(3)(u,n(0)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(u,{next:o(1,n)}),i(t,e+" Iterator")}},function(t,e,n){var r=n(5),o=n(58),i=n(25),u=n(14)("IE_PROTO"),a=function(){},c=function(){var t,e=n(17)("iframe"),r=i.length;for(e.style.display="none",n(59).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;r--;)delete c.prototype[i[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=r(t),n=new a,a.prototype=null,n[u]=t):n=c(),void 0===e?n:o(n,e)}},function(t,e,n){var r=n(8),o=n(5),i=n(19);t.exports=n(6)?Object.defineProperties:function(t,e){o(t);for(var n,u=i(e),a=u.length,c=0;a>c;)r.f(t,n=u[c++],e[n]);return t}},function(t,e,n){var r=n(1).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(7),o=n(26),i=n(14)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,e,n){var r=n(13),o=n(12);t.exports=function(t){return function(e,n){var i,u,a=String(o(e)),c=r(n),s=a.length;return c<0||c>=s?t?"":void 0:(i=a.charCodeAt(c))<55296||i>56319||c+1===s||(u=a.charCodeAt(c+1))<56320||u>57343?t?a.charAt(c):i:t?a.slice(c,c+2):u-56320+(i-55296<<10)+65536}}},function(t,e,n){var r=n(31),o=n(0)("iterator"),i=n(4);t.exports=n(2).isIterable=function(t){var e=Object(t);return void 0!==e[o]||"@@iterator"in e||i.hasOwnProperty(r(e))}},function(t,e,n){t.exports={default:n(64),__esModule:!0}},function(t,e,n){n(27),n(30),t.exports=n(65)},function(t,e,n){var r=n(5),o=n(66);t.exports=n(2).getIterator=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},function(t,e,n){var r=n(31),o=n(0)("iterator"),i=n(4);t.exports=n(2).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){var r=new function(){var t=Math.round,e=Math.max,n=Math.pow,r=Math.log,o="0123456789bcdefghjkmnpqrstuvwxyz",i=new RegExp("^["+o+"]+$"),u=function(){};u.prototype={minlat:-90,maxlat:90,minlng:-180,maxlng:180,halfLat:function(){return(this.minlat+this.maxlat)/2},halfLng:function(){return(this.minlng+this.maxlng)/2}},this.encode=function(t,r){if(t instanceof Array&&null==r&&(r=t[1],t=t[0]),r*=1,(t*=1)!=t)throw new Error("Geohash.encode: lat must be a Number");if(r!=r)throw new Error("Geohash.encode: lng must be a Number");for(var i,a=t.toString().length-t.toFixed().length-2,c=r.toString().length-t.toFixed().length-2,s=n(10,-e(a,c,0))/2,f=new u,l=[],d=180,p=!0,h=0,v=4;d>=s;)if(p?r>(i=f.halfLng())?(h|=1<<v,f.minlng=i):f.maxlng=i:t>(i=f.halfLat())?(h|=1<<v,f.minlat=i):f.maxlat=i,p=!p,v)v--;else{if(d===(d=e(f.maxlng-f.minlng,f.maxlat-f.minlat)))break;l.push(o[h]),v=4,h=0}return l.join("")},this.decode=function(a){if(!i.test(a))throw new Error("Geohash.decode: hash must be a geohash string");for(var c=new u,s=90,f=180,l=function(t,e,n){var r=1<<t;!(1&t)^!(1&n)?r&e?c.minlat=c.halfLat():c.maxlat=c.halfLat():r&e?c.minlng=c.halfLng():c.maxlng=c.halfLng()},d=0,p=a.length;d<p;d++){for(var h=o.indexOf(a[d]),v=1&d,g=4;g>=0;g--)l(g,h,v);v?(s/=8,f/=4):(s/=4,f/=8)}var m=n(10,e(1,-t(r(s)/r(10)))-1),y=n(10,e(1,-t(r(f)/r(10)))-1);return[t(c.halfLat()*m)/m,t(c.halfLng()*y)/y]}};t.exports=r},function(t,e,n){var r;r=function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(1)),i=r(n(2)),u=r(n(3)),a=r(n(4)),c=r(n(5)),s=r(n(6)),f=r(n(7)),l=r(n(8));e.default={getLocation:i.default,getGeohash:o.default,compareVersion:u.default,paramToString:a.default,resolveFetch:c.default,checkoutByApp:s.default,getUrl:f.default,expiredLocalStorage:l.default}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=/iPhone|iPad|iPod|iOS/i.test(navigator.userAgent),r=function(){var t=window.UParams&&window.UParams().geohash||"";if(t)try{window.Geohash.decode(t)}catch(e){t=""}return t},o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=null,r=function(){clearInterval(n)};return new Promise(function(o,i){if(!window.hybridAPI)return i();var u=function(){window.hybridAPI.getGlobalGeohash().then(function(t){t&&(r(),o(t))})};n=setInterval(u,e),u(),setTimeout(function(){r(),i()},t)})},i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3;return navigator.geolocation?new Promise(function(e,n){navigator.geolocation.getCurrentPosition(function(t){t.coords.latitude||n({name:"BROWSER_MODE_PERMISSON_FAILED"}),e(window.Geohash.encode(t.coords.latitude,t.coords.longitude))},n,{timeout:t,maximumAge:6e5})}):Promise.reject()},u=function(){if(!window.ap)return Promise.reject();return(ap.compareVersion("10.0.18")<0?ap.getLocation({timeout:10,cacheTimeout:1800}):ap.call("getCurrentLocation",{timeout:10,cacheTimeout:1800,requestType:0,bizType:n?"iOS-ele-position":"Android-ele-position"})).then(function(t){return window.Geohash.encode(t.latitude,t.longitude)})},a=function(){return window.wk?new Promise(function(t,e){wk.ready(function(){wk.getLocation({type:"wgs84",success:function(e){t(window.Geohash.encode(e.latitude,e.longitude))},fail:e})}),wk.error(e)}):Promise.reject()},c=function(t,e){return o(2*t/3).catch(function(){return e?Promise.reject():i(1*t/3)})},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9e3,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=r();if(n)return Promise.resolve(n);return/Eleme/i.test(navigator.userAgent)?c(t,e):/AlipayClient/.test(navigator.userAgent)?u():/wkbrowser|WiFiKey|ZeusPro/i.test(navigator.userAgent)?a():i(t)};s.getParamHash=r,s.useApp=o,s.useGeoAPI=i,s.useAlipay=u,s.useWifikey=a,e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(t){return t&&t.__esModule?t:{default:t}}(n(3)),i=/iPhone|iPad|iPod|iOS/i.test(navigator.userAgent),u=function(t,e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3;return window.hybridAPI?new Promise(function(e,n){(0,o.default)("7.26")?hybridAPI.getGlobalGeohash().then(function(t){var n=Geohash.decode(t),o=r(n,2),i=o[0],u=o[1];e({latitude:i,longitude:u})}):hybridAPI.getSyncLocation().then(function(t){e({latitude:t.lat,longitude:t.lng})}),setTimeout(n,t)}):Promise.reject({name:"HYBRIDAPI_NOT_DEFINED"})}(2*t/3).catch(function(){return e?Promise.reject():getNavigatorHash(1*t/3)})};e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9e3,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return/Eleme/i.test(navigator.userAgent)?u(t,e):/AlipayClient/.test(navigator.userAgent)?window.ap?ap.compareVersion("10.0.18")<0?ap.getLocation({timeout:10,cacheTimeout:1800}):ap.call("getCurrentLocation",{timeout:10,cacheTimeout:1800,requestType:0,bizType:i?"iOS-ele-position":"Android-ele-position"}):Promise.reject():/wkbrowser|WiFiKey|ZeusPro/i.test(navigator.userAgent)?window.wk?new Promise(function(t,e){wk.ready(function(){wk.getLocation({type:"wgs84",success:t,fail:e})}),wk.error(e)}):Promise.reject():function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3;return navigator.geolocation?new Promise(function(e,n){navigator.geolocation.getCurrentPosition(function(t){t.coords.latitude||n({name:"BROWSER_MODE_PERMISSON_FAILED"}),e(t.coords)},n,{timeout:t,maximumAge:6e5})}):Promise.reject()}(t)}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t,e){if(!e&&!(e=(window.navigator.userAgent.match(/Eleme\/([\d|\.]+)/i)||[])[1]))return!1;t=t.split("."),e=e.split(".");var n=void 0;return t.forEach(function(t,r){var o=e[r];if(void 0===o&&(o=0),void 0===n){var i=Number(t)-Number(o);0!==i&&(n=i>0)}}),!!n}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return Object.prototype.toString.call(t).slice(8,-1)};e.default=function(t){if("Object"!==n(t))throw"param 必须是一个 object";var e=[];return Object.keys(t).forEach(function(r){var o=t[r];Array.isArray(o)?e=e.concat(o.map(function(t){return encodeURIComponent(r)+"[]="+encodeURIComponent(t)})):"Object"===n(o)?(o=JSON.stringify(o),e.push(encodeURIComponent(r)+"="+encodeURIComponent(o))):"Undefined"!==n(o)&&"Null"!==n(o)&&e.push(encodeURIComponent(r)+"="+encodeURIComponent(o))}),e.join("&")}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){if(204===t.status)return Promise.resolve.bind(Promise);var e=t.json();return t.status>=200&&t.status<300?e:e.then(Promise.reject.bind(Promise))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(3));e.default=function(t){var e=t.id,n=t.entities,o=(t.callback,{clear_cart:!0});(0,r.default)("7.2")?o.add_foods=n.map(function(t){return{id:t.id,quantity:t.quantity,specs:t.specs.map(function(t){return t.value})}}):o.add_foods=n.map(function(t){var e=t.id,n=t.sku_id,r=t.quantity,o=t.specs,i=t.attrs;return{id:e,sku_id:n||"",quantity:r,specs:o,attrs:i}}),location.href="eleme://checkout?restaurant_id="+e+"&cart_operations="+JSON.stringify(o)}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"hash",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i="";if("{}"!==JSON.stringify(e))for(var u in i="hash"===r?"#":"?",e){var a=e[u];i+="object"===(void 0===a?"undefined":n(a))&&a?encodeURIComponent(u)+"="+encodeURIComponent(JSON.stringify(a))+"&":encodeURIComponent(u)+"="+encodeURIComponent(a)+"&"}return i=""+t+i.replace(/&$/,""),/Eleme/.test(navigator.userAgent)&&(i="eleme://web?url="+encodeURIComponent(i)+"&animation_type="+o),i}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={set:function(t){var e=t.key,n=t.value,r=t.expiredDate,o=t.expiredDay,i={value:n,expired:""};return r&&(i.expired=r),o&&(i.expired=Date.now()+60*o*60*1e3),localStorage.setItem(e,JSON.stringify(i)),{key:e,value:JSON.stringify(i)}},get:function(t){var e=void 0;try{e=JSON.parse(localStorage.getItem(t))}catch(t){throw t}if(!e)throw"The key: "+t+" you want are not found in localStorage";var n=Date.now()>new Date(e.expired).getTime();return{value:e.value,expired:n}}}}])},t.exports=r()},function(t,e,n){"use strict";var r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.nearest||t.nonProduct?n("div",{ref:"app",attrs:{id:"app"}},[t.trimmedImgHash_str?n("img",{directives:[{name:"img",rawName:"v-img",value:t.vImgParams,expression:"vImgParams"}],style:t.btnStyle,on:{click:t.goBignameShop}}):n("div",{style:t.placeHolderStyle,on:{click:t.goBignameShop}})]):t._e()},staticRenderFns:[]};e.a=r}])});
//# sourceMappingURL=index.js.map