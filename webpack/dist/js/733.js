/*! For license information please see 733.js.LICENSE.txt */
"use strict";(self.webpackChunknexus=self.webpackChunknexus||[]).push([[733],{653:(n,t,e)=>{e.d(t,{wI:()=>c});var r=e(995),a=e(450),d=e(931),o=e(146),i=e(950);function c(){return(0,a.rH)("app",null,[(n=(0,a.gd)("A","nx-app-link nx-external-link"),n.target="_blank",n.href=i.Gd,n.title="Nexus",n.textContent="Nexus",n),s()],!1);var n}function s(){var n="nx-selected-lang",t=(0,a.gd)("SPAN","nx-lang-list-toggle");t.textContent=(0,r.VQ)();var e=(0,a.gd)("UL","nx-lang-list");(0,r.Ye)().forEach((i=>{var c=(0,a.gd)("LI");c.textContent=i,i==t.textContent&&c.classList.add(n),c.addEventListener("click",(()=>{var a=c.textContent;a!=(0,r.VQ)()&&(e.querySelector("."+n).classList.remove(n),c.classList.add(n),(0,d.Po)(t,a,50),(0,o.To)(a)),e.style.display="none"})),e.append(c)})),e.style.display="none";var i=(0,a.gd)("DIV","nx-lang-switch");return i.append(t,e),t.addEventListener("click",(()=>{var n="none";e.style.display==n&&(n="block"),e.style.display=n})),i}},366:(n,t,e)=>{e.d(t,{j1:()=>u,I$:()=>l,Vm:()=>v,Vr:()=>p,iy:()=>f,TH:()=>x,FW:()=>h});var r=e(931),a=e(683),d=e(146),o=e(450);function i(n,t){n.classList.contains("nx-on-display")?(n.classList.remove("nx-unseen"),n.lastChild.textContent=""):(0,a.$3)(t)&&(n.classList.add("nx-unseen"),n.lastChild.textContent="*")}function c(n,t,e){e.dataUrl&&t.dataUrl==e.dataUrl&&t.threadId==e.threadId?n.classList.add("nx-on-display"):n.classList.remove("nx-on-display")}function s(n){var t="/";return n.threadId&&"/"!=n.threadId&&(t=n.srcData.threads[n.threadIndex].name),t}function u(n,t=!1){var e=(0,o.gd)("A","nx-view-link");return e.append(f(n,t)),e}function l(n,t){c(n,t,(0,d.Mq)()),(0,d.Ek)((function(e){c(n,t,e)}))}function v(n,t=!1){var e=(0,o.gd)("SPAN","nx-handle");return n.srcData&&(e.textContent=n.srcData.author.handle),t&&(0,d.Ek)((function(n){(0,r.Po)(e,n.srcData.author.handle,20)}),!0),e}function p(n,t=!1){var e=(0,o.gd)("SPAN","nx-author-url"),a=[];["[","]"].forEach((n=>{var t=(0,o.gd)("SPAN","nx-author-url-brackets");t.textContent=n,a.push(t)}));var i=(0,o.gd)("A","nx-external-link");i.target="_blank";var c="";return n.srcData&&(c=n.srcData.author.url),i.href=c,n.srcData&&(i.textContent=n.srcData.author.miniUrl),e.append(a[0],i,a[1]),t&&(0,d.Ek)((function(n){i.href=n.srcData.author.url,(0,r.Po)(i,n.srcData.author.miniUrl,20)}),!0),e}function f(n,t=!1){var e=(0,o.gd)("SPAN","nx-thread-name");return e.textContent=s(n),t&&(0,d.Ek)((function(n){var t=s(n);(0,r.Po)(e,t,15)})),e}function x(n,t=!1){var e=u(n,t);return"/"!=n.threadId&&(l(e,n),function(n,t){n.append((0,o.gd)("SPAN","nx-new-tag")),i(n,t),(0,d.Ek)((function(){i(n,t)}))}(e,n)),e.addEventListener("click",(()=>{(0,d.f2)(n)})),e}function h(n,t=!1){var e=(0,o.gd)("A","nx-author-link");e.append(v(n,t));var r={dataUrl:n.dataUrl,srcData:n.srcData,threadId:"/",threadIndex:-1,lastEvent:"read"};return e.addEventListener("click",(function(){(0,d.f2)(r,"/")})),e}},212:(n,t,e)=>{e.d(t,{W:()=>l});var r=e(931),a=e(146),d=e(366),o=e(450),i=null;function c(n){var t=(0,o.gd)("DIV","nx-about-author");return t.append(s(n)),(0,a.Ek)((function(n){(0,r.Mo)(t.firstChild,s(n))}),!0),t}function s(n){var t=(0,o.gd)("P");return n.srcData&&(t.textContent=n.srcData.author.about),t}function u(n,t,e){var r=Object.assign({},n);r.threadId=t,r.threadIndex=e;var a=(0,o.gd)("LI");return a.append((0,d.TH)(r,!1)),a}function l(n){!function(n){if(i=(0,o.gd)("UL"),n.srcData){var t=n.srcData.index;if(t.length)for(var e=0;e<t.length;e++)i.append(u(n,t[e],e));(0,a.Ek)((function(n){!function(n){var t=i.childNodes,e=n.srcData.index,a=e.length,d=t.length,o=0;if(d)for(var c=function(n){(0,r.Vv)(n,200,(function(){n.remove()}))},s=0;s<d;s++)if(a>s){var l=u(n,e[s],s);(0,r.Mo)(t[s],l),o++}else c(t[s]);if(o<a)for(var v=o;v<a;v++)(0,r.am)(i,u(n,e[v],v),!1,!0,200)}(n)}),!0)}}(n);var t=[(0,d.Vm)(n,!0),(0,d.Vr)(n,!0)],e=[c(n),i];return(0,o.rH)("index",t,e,!0)}},579:(n,t,e)=>{e.d(t,{w:()=>E,M:()=>V});var r,a,d,o,i=e(null),c=e(931),s=e(146),u=e(366),l=e(789),v=e(406),p=e(450);function f(n){var t=(0,p.gd)("DIV","nx-boken-media");return t.append(function(n){var t=(0,p.gd)("A","nx-external-link");return t.target="_blank",t.href=n,t.textContent=(0,l.Fj)(n,!0),t}(n)),t}function x(n){var t=(0,p.gd)("A","nx-external-link");return t.href=n,t.target="_blank",t.textContent=(0,l.Fj)(n,!0),t}function h(n){var t=(0,p.gd)("VIDEO");t.setAttribute("controls",!0);var e=(0,p.gd)("SOURCE");return e.src=n,t.append(e),e.onerror=()=>{(0,c.Mo)(t,f(n))},t}function g(n){var t=(0,p.gd)("AUDIO");return t.setAttribute("controls",!0),t.src=n,t.onerror=()=>{(0,c.Mo)(t,f(n))},t}function I(n){var t=(0,p.gd)("IMG");return t.src=n,t.onerror=()=>{(0,c.Mo)(t,f(n))},t}function m(n){var t=(0,p.gd)("DIV","nx-record-media");return r=(0,p.gd)("DIV"),function(n){n&&n.record.media.type&&function(n,t,e=null){var a={page:x,image:I,video:h,audio:g},d=function(t){r.className="nx-"+n+"-media",e?(0,c.Mo)(e,t):(0,c.am)(r,t,!1,!0,200)};a.hasOwnProperty(n)?d(a[n](t)):(0,l.qm)((0,l.ip)(t,n,360)).then((n=>{d(n)})).catch((n=>{(0,v.Kz)(n),d(f(t))}))}(n.record.media.type,n.record.media.url)}(n),t.append(r,function(n){return V(n,["record","media","caption"])}(n)),t}function k(n){var t=null;return n.threadId&&"/"!=n.threadId&&(t=n.srcData.threads[n.threadIndex]),t}function y(n){return(a=(0,p.gd)("DIV")).append(...C(n)),(0,p.rH)("distant",null,[a],!0)}function D(n,t){var e=(0,u.iy)(n,!0);return function(n){(d=(0,p.gd)("DIV","nx-thread-description")).append(V(n,["description"]))}(t),function(n){(o=(0,p.gd)("DIV","nx-local-record")).append(L(n))}(t),(0,p.rH)("local",[e],[d,o],!0)}function C(n){var t=[];null!=n&&(t=n.linked);var e=(0,p.gd)("UL","nx-distant-records"),r=(0,p.gd)("UL","nx-distant-indexes");if(t.length){var a=[];t.forEach((n=>{(0,s.t$)(n.url,n.id).then((n=>{var t,d=[(0,u.FW)(n,!1),(0,u.Vr)(n,!1),(0,u.TH)(n,!1)];"/"==n.threadId?a.includes(n.threadId)||(a.push(n.threadId),(t=(0,p.gd)("LI")).append(...d),(0,c.am)(r,t,!1,!1,200)):((t=(0,p.gd)("LI")).append(...d),t.append(L(k(n))),(0,c.am)(e,t,!1,!1,200))}))}))}else{var d=(0,p.gd)("LI");d.textContent="...",e.append(d)}return[e,r]}function L(n){var t=(0,p.gd)("DIV","nx-record");return t.append(function(n){var t=(0,p.gd)("DIV","nx-record-meta"),e=V(n,["record","timestamp"]);return t.append(e),t}(n),function(n){var t=(0,p.gd)("DIV","nx-record-body");return t.append(V(n,["record","main"]),V(n,["record","aside"])),t}(n),m(n)),t}function V(n,t){var e=(0,p.gd)("P","nx-"+t.join("-"));return e.textContent=function(n,t=[]){if(n){for(var e=Object.assign({},n),r=0;r<t.length;r++)e=e[t[r]];if((0,i.fw)(e))return e}return""}(n,t),e}function E(n){var t=k(n),e=[D(n,t),y(t)];return(0,s.Ek)((function(n){!function(n){var t=k(n),e=L(t),r=V(t,["description"]);(0,c.Mo)(d.firstChild,r),(0,c.Mo)(o.firstChild,e);var i=C(t);Array.from(a.childNodes).forEach(((n,t)=>{(0,c.Mo)(n,i[t])}))}(n)})),e}},733:(n,t,e)=>{e.r(t),e.d(t,{viewerBlocks:()=>j});var r=e(931),a=e(146),d=e(450),o=e(366),i=!1,c=null,s=null,u=1,l=1,v={prev:{symbol:"<",elm:null},next:{symbol:">",elm:null}},p=!1;function f(){c.scrollIntoView({block:"end",behavior:"smooth"})}function x(){l>1?v.prev.elm.classList.remove("nx-nav-end"):v.prev.elm.classList.add("nx-nav-end"),l<u-1?v.next.elm.classList.remove("nx-nav-end"):v.next.elm.classList.add("nx-nav-end")}function h(n){u++;var t=document.createElement("LI");return p?t.append(...function(n){var t=g(n),e=(0,d.gd)("SPAN","nx-edit-event");return e.textContent=n.lastEvent,t.prepend(e),[t]}(n)):t.append(...function(n){return[(0,o.FW)(n,!1),(0,o.Vr)(n,!1),g(n)]}(n)),t}function g(n){var t=(0,o.j1)(n,!1);return(0,o.I$)(t,n),t.addEventListener("click",(()=>{i=!0,(0,a.f2)(n,!0)})),t}function I(n,t=!1){return t&&(v.prev.symbol="↶",v.next.symbol="↷",p=!0),function(n){c=(0,d.gd)("UL","nx-history-list");var t=(0,d.gd)("LI");t.textContent="...",c.append(t),n.srcData&&c.append(h(n)),(s=(0,d.gd)("DIV","nx-history-drawer")).append(c),s.style.display="none",(0,a.Ek)((function(n){!function(n){if(!i){u>100&&(c.children[1].remove(),u--),l=u;var t=h(n);(0,r.am)(c,t,!1,!0,200,(function(){f()})),x()}}(n)}))}(n),(0,d.rH)("history",null,[(o=(0,d.gd)("DIV","nx-history-nav"),Object.keys(v).forEach((n=>{v[n].elm=(0,d.gd)("A","nx-nav-end"),v[n].elm.textContent=v[n].symbol,v[n].addEventListener("click",(function(){v[n].elm.classList.contains("nx-nav-end")||("prev"==n?l--:l++,x(),c.children[l].querySelector(".nx-thread-name").click())}))})),o.append(v.prev,((e=(0,d.gd)("A","nx-history-toggle")).textContent="≚",e.addEventListener("click",(()=>{"≙"==e.textContent?(e.textContent="≚",e.classList.remove("nx-active"),(0,r.Vv)(s,200)):(e.textContent="≙",e.classList.add("nx-active"),(0,r.YQ)(s,200),f())})),e),v.next),o),s],!1);var e,o}var m=e(504),k=e(995),y=e(406),D=null,C=!1;function L(n,t){var e=(0,d.gd)("A","nx-source-"+n);return e.textContent=t,e}function V(n){return n.dataUrl?'{"url": "'+n.dataUrl+'", "threadId": "'+n.threadId+'"}':""}function E(n,t){var e=(0,d.gd)("TEXTAREA");return e.spellcheck=!1,e.textContent=t(n),(0,a.Ek)((function(n){e.textContent=t(n)})),e}function b(n,t){var e,o,i,c,s,u=(0,d.gd)("DIV","nx-"+n+"-snippet");return u.append(t,(e=t,c=L("copy","⧉"),o=(0,k.GY)("copied"),(i=(0,d.gd)("SPAN","nx-source-copy-tooltip")).textContent=o,i.style.opacity=0,i.hidden=!0,(0,a.wu)(i,o),s=i,c.append(s),c.addEventListener("click",(()=>(0,m.vQ)(e.textContent,(()=>{(0,r.Vn)(s,1e3)})))),c)),u}function A(n){if(n.srcData)return JSON.stringify(n.srcData)}function w(n){return n.dataUrl?'<div id="Nexus" data-src="'+n.dataUrl+'" data-id="'+n.threadId+'" data-style="'+(0,y.MD)("style")+'" data-lang="'+(0,k.VQ)()+'"></div>\r\n<script src="https://cdn.jsdelivr.net/gh/I-is-as-I-does/Nexus-Prototype@0.2.0/cdn/js/NxViewerIO.js"><\/script>':""}function U(n,t=!1){return t&&(C=!0),(0,d.rH)("source",null,function(n){D=(0,d.gd)("DIV","nx-source-drawer"),C?D.append(function(n){return b("source",E(n,A))}(n)):D.append(function(n){return b("json",E(n,V))}(n),function(n){return b("embed",E(n,w))}(n)),D.style.display="none";var t,e,a=(0,d.gd)("DIV","nx-source-toggle"),o=(t="< />",(e=L("snippets","</>")).addEventListener("click",(()=>{e.textContent==t?(e.textContent="</>",e.classList.remove("nx-active"),(0,r.Vv)(D,100)):(e.textContent=t,e.classList.add("nx-active"),(0,r.YQ)(D,100,(function(){D.scrollIntoView({block:"end",behavior:"smooth",inline:"nearest"})})))})),e);return a.append(o),[a,D]}(n),!1)}var N=e(653),P=e(579),M=e(212);function j(n){var t=(0,d.gd)("DIV");t.append((0,M.W)(n));var e=(0,d.gd)("DIV");return e.append(...(0,P.w)(n)),(0,d.IW)([(0,N.wI)(),I(n)],[t,e],[U(n)])}}}]);