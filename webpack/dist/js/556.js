/*! For license information please see 556.js.LICENSE.txt */
"use strict";(self.webpackChunknexus=self.webpackChunknexus||[]).push([[556],{653:(t,n,e)=>{e.d(n,{wI:()=>d});var r=e(306),a=e(450),o=e(359),i=e(93);function d(){return(0,a.rH)("app",null,[(n=(0,a.gd)("A","nx-app-link nx-external-link"),n.target="_blank",n.href=r.Gd,n.title="Nexus",n.textContent="Nexus",n),(t=(0,a.gd)("P"),t.textContent=(0,o.VQ)(),(0,a.Sb)((0,o.Ye)(),t,(function(t){(0,i.T)(t)}),"nx-lang-switch"))],!1);var t,n}},450:(t,n,e)=>{e.d(n,{gd:()=>l,IW:()=>c,rH:()=>u,ao:()=>p,eV:()=>f,Q$:()=>v,Sb:()=>y,I$:()=>h,j1:()=>m,iy:()=>g});var r=e(931),a=e(268),o=e(906),i=e(769),d=e(93),s=e(359);function l(t,n){var e=document.createElement(t);return n&&(e.className=n),e}function c(t,n,e){var r=l("DIV","nx-instance"),a=l("HEADER");a.append(...t);var o=l("MAIN");o.append(...n);var i=l("FOOTER");return i.append(...e),r.append(a,o,i),r}function u(t,n=null,e=null,r=!1){var a,o,i=l("SECTION","nx-"+t+"  nx-block");if(r&&i.append(((o=l("SPAN","nx-landmark nx-landmark-"+(a=t))).textContent=(0,s.GY)(a),(0,d.w)(o,a),o)),n){var c=l("HEADER");c.append(...n),i.append(c)}return e&&i.append(...e),i}function p(){var t=(0,a.ah)();t.length||(t=["Init failed"]);var n=l("P");(0,o.o)()?n.className="nx-error":(n.style.margin="0 auto",n.style.fontFamily='"Courier New", Courier, monospace',n.style.fontSize="13px");var e=l("BR"),r=l("SPAN");return r.textContent="—/ — ",n.append(r,e),t.forEach((t=>{var r=l("SPAN");r.textContent=(0,s.GY)(t),(0,d.w)(r,t),n.append(r,e.cloneNode())})),n}function f(t){t.position>0?t.ctrls.prev.elm.classList.remove("nx-nav-end"):t.ctrls.prev.elm.classList.add("nx-nav-end"),t.position<t.count-1?t.ctrls.next.elm.classList.remove("nx-nav-end"):t.ctrls.next.elm.classList.add("nx-nav-end")}function v(t,n){Object.keys(t.ctrls).forEach((e=>{t.ctrls[e].elm=l("A","nx-nav-end"),t.ctrls[e].elm.textContent=t.ctrls[e].symbol,t.ctrls[e].elm.addEventListener("click",(function(){t.ctrls[e].elm.classList.contains("nx-nav-end")||("next"==e?t.position++:t.position--,n(e),f(t))}))}))}function y(t,n,e=null,r=null){var a="nx-selected";n.classList.add("nx-select-toggle");var o,i="INPUT"==n.tagName;o=i?n.value:n.textContent;var d=l("UL","nx-select-list");t.forEach((t=>{var r=l("LI");r.textContent=t,r.dataset.item=t,t==o&&r.classList.add(a),r.addEventListener("click",(()=>{if(!r.classList.contains(a)){var t=r.textContent;d.querySelector(".nx-selected").classList.remove(a),r.classList.add(a),i?n.value=t:n.textContent=t,"function"==typeof e&&e(t),d.style.display="none"}})),d.append(r)})),d.style.display="none";var s=l("DIV","nx-select");return r&&s.classList.add(r),s.append(n,d),n.addEventListener("click",(()=>{var t="none";d.style.display==t&&(t="block"),d.style.display=t})),s}function h(t,n){x(t,n,(0,i.Mq)()),(0,i.Ek)((function(e){x(t,n,e)}))}function x(t,n,e){e.dataUrl&&n.dataUrl==e.dataUrl&&n.threadId==e.threadId?t.classList.add("nx-on-display"):t.classList.remove("nx-on-display")}function m(t,n=!1){var e=l("A","nx-view-link");return e.append(g(t,n)),e}function g(t,n=!1){var e=l("SPAN","nx-thread-name");return e.textContent=I(t),n&&(0,i.Ek)((function(t){var n=I(t);(0,r.Po)(e,n,15)})),e}function I(t){var n="/";return t.threadId&&"/"!=t.threadId&&(n=t.srcData.threads[t.threadIndex].name),n}},931:(t,n,e)=>{function r(t,n=200,e=null){f(t);let r=t.offsetHeight;t.style.overflow="hidden",t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,t.offsetHeight,t.style.boxSizing="border-box",t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=n+"ms",t.style.height=r+"px",t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),window.setTimeout((()=>{t.style.removeProperty("height"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property"),"function"==typeof e&&e()}),n)}function a(t,n=null){t.style.opacity=1,function e(){(t.style.opacity-=.1)<0?(t.style.display="none","function"==typeof n&&n()):requestAnimationFrame(e)}()}function o(t,n=null){t.style.opacity=0,f(t),function e(){var r=parseFloat(t.style.opacity);(r+=.1)>1?"function"==typeof n&&n():(t.style.opacity=r,requestAnimationFrame(e))}()}function i(t,n=200,e=null){var r=[a,o];v(t)&&r.reverse(),r[0](t,(function(){"function"==typeof e&&e(),window.setTimeout((()=>{r[1](t)}),n)}))}function d(t,n=200,e=null){a(t),function(t,n=200,e=null){t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=n+"ms",t.style.boxSizing="border-box",t.style.height=t.offsetHeight+"px",t.offsetHeight,t.style.overflow="hidden",t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,window.setTimeout((()=>{t.style.display="none",t.style.removeProperty("height"),t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property"),"function"==typeof e&&e()}),n)}(t,n,e)}function s(t,n=200,e=null){t.style.opacity=0;var a=n-200;a<200&&(a=200),setTimeout((function(){o(t,e)}),a),r(t,n,e)}function l(t,n,e=20){var r,a,o,i=t.textContent.split(""),d=n.split(""),s=i.length,l=d.length;s>l?(r=s,a=0,o=function(){r>l?i.pop():i[r-1]=d[r-1],r--}):(r=0,a=l,o=function(){r<s?i[r]=d[r]:i.push(d[r]),r++});var c=setInterval((function(){o(),t.textContent=i.join(""),r==a&&clearInterval(c)}),e)}function c(t,n,e=!1,a=!0,o=200,i=null){var d,l;return n.style.display="none",a?(n.style.opacity=0,d=s):d=r,l=e?function(){t.prepend(n)}:function(){t.append(n)},p(t,n,l,(function(){d(n,o,i)}))}function u(t,n,e=null){n.style.opacity=0;var r=t.parentNode,i=t.offsetHeight,d=function(){t.replaceWith(n)},l=function(){var t=n.offsetHeight;!function(t,n,e,r=null){n===e?o(t,r):s(t,200,r)}(n,i,t,e)};a(t,(function(){p(r,n,d,l)}))}function p(t,n,e,r=null){t instanceof Element||(t=document.body);var a="m"+Math.random().toString(20).substr(2);return n.classList.add(a),new Promise((o=>{var i=new MutationObserver((()=>{t.querySelector("."+a)&&(n.classList.remove(a),i.disconnect(),"function"==typeof r&&r(),o(!0))}));i.observe(t,{childList:!0}),e()}))}function f(t){t.style.removeProperty("display");let n=window.getComputedStyle(t).display;"none"===n&&(n="block"),t.style.display=n}function v(t){if(!t)return!1;do{if(t instanceof Element){if(t.hidden||!t.offsetHeight)return!0;var n=window.getComputedStyle(t);if("0"==n.width||"0"==n.height||"0"==n.opacity||"none"==n.display||"hidden"==n.visibility)return!0}}while(t=t.parentNode);return!1}e.d(n,{Vn:()=>i,Vv:()=>d,YQ:()=>s,Po:()=>l,am:()=>c,Mo:()=>u,RP:()=>v})},556:(t,n,e)=>{e.r(n),e.d(n,{viewerContent:()=>at});var r=e(653),a=e(931),o=e(450),i=e(769),d=e(27);function s(t,n){t.classList.contains("nx-on-display")?(t.classList.remove("nx-unseen"),t.lastChild.textContent=""):(0,d.$3)(n)&&(t.classList.add("nx-unseen"),t.lastChild.textContent="*")}function l(t,n=!1){var e=(0,o.gd)("SPAN","nx-handle");return t.srcData&&(e.textContent=t.srcData.author.handle),n&&(0,i.Ek)((function(t){(0,a.Po)(e,t.srcData.author.handle,20)}),!0),e}function c(t,n=!1){var e=(0,o.gd)("SPAN","nx-author-url"),r=[];["[","]"].forEach((t=>{var n=(0,o.gd)("SPAN","nx-author-url-brackets");n.textContent=t,r.push(n)}));var s=(0,o.gd)("A","nx-external-link");s.target="_blank";var l="";return t.srcData&&(l=t.srcData.author.url),s.href=l,t.srcData&&(s.textContent=(0,d.KR)(t.srcData.author.url)),e.append(r[0],s,r[1]),n&&(0,i.Ek)((function(t){s.href=t.srcData.author.url,(0,a.Po)(s,(0,d.KR)(t.srcData.author.url),20)}),!0),e}function u(t,n=!1){var e=(0,o.j1)(t,n);return"/"!=t.threadId&&((0,o.I$)(e,t),function(t,n){t.append((0,o.gd)("SPAN","nx-new-tag")),s(t,n),(0,i.Ek)((function(){s(t,n)}))}(e,t)),e.addEventListener("click",(()=>{(0,i.f2)(t)})),e}function p(t,n=!1){var e=(0,o.gd)("A","nx-author-link");e.append(l(t,n));var r={dataUrl:t.dataUrl,srcData:t.srcData,threadId:"/",threadIndex:-1};return e.addEventListener("click",(function(){(0,i.f2)(r,"/")})),e}function f(t){t.scrollIntoView({block:"end",behavior:"smooth"})}var v=!1,y=null,h=null,x={dataUrl:null,srcData:null,threadId:"/",threadIndex:-1},m={ctrls:{prev:{symbol:"<",elm:null},next:{symbol:">",elm:null}},position:0,count:1};function g(t){var n=document.createElement("LI");return n.append(...function(t){return[p(t,!1),c(t,!1),I(t)]}(t)),n}function I(t){var n=(0,o.j1)(t,!1);return(0,o.I$)(n,t),n.addEventListener("click",(()=>{v=!0,(0,i.f2)(t,!0),v=!1})),n}function C(t){return function(t){y=(0,o.gd)("UL","nx-history-list");var n=(0,o.gd)("LI");n.textContent="...",y.append(n),t.srcData&&y.append(g(t)),(h=(0,o.gd)("DIV","nx-history-drawer")).append(y),h.style.display="none",(0,i.Ek)((function(t){!function(t){if(!v&&(t.dataUrl!=x.dataUrl||t.threadId!=x.threadId)){x=t,m.count>100?y.children[1].remove():m.count++,m.position=m.count-1;var n=g(t);(0,a.am)(y,n,!1,!0,200,(function(){f(y)})),(0,o.eV)(m)}}(t)}))}(t),(0,o.rH)("history",null,[(e=(0,o.gd)("DIV","nx-history-nav"),(0,o.Q$)(m,(function(t){var n=m.position;"prev"==t&&(n+=1),y.children[n].querySelector(".nx-thread-name").click()})),e.append(m.ctrls.prev.elm,((n=(0,o.gd)("A","nx-history-toggle")).textContent="≚",n.addEventListener("click",(()=>{"≙"==n.textContent?(n.textContent="≚",n.classList.remove("nx-active"),(0,a.Vv)(h,200)):(n.textContent="≙",n.classList.add("nx-active"),(0,a.YQ)(h,200),f(y))})),n),m.ctrls.next.elm),e),h],!1);var n,e}var k=null;function D(t){var n=(0,o.gd)("DIV","nx-about-author");return n.append(b(t)),(0,i.Ek)((function(t){(0,a.Mo)(n.firstChild,b(t))}),!0),n}function b(t){var n=(0,o.gd)("P");return t.srcData&&(n.textContent=t.srcData.author.about),n}function L(t,n,e){var r=Object.assign({},t);r.threadId=n,r.threadIndex=e;var a=(0,o.gd)("LI");return a.append(u(r,!1)),a}var P=e(811),E=e(187),w=e(93),V=e(359),A=null,N=!1;function S(t,n){var e=(0,o.gd)("A","nx-source-"+t);return e.textContent=n,e}function U(t){return t.dataUrl?'{"url": "'+t.dataUrl+'", "threadId": "'+t.threadId+'"}':""}function H(t,n){var e=(0,o.gd)("TEXTAREA");return e.spellcheck=!1,e.textContent=n(t),(0,i.Ek)((function(t){e.textContent=n(t)})),e}function j(t,n){var e,r,i,d,s,l=(0,o.gd)("DIV","nx-"+t+"-snippet");return l.append(n,(e=n,d=S("copy","⧉"),r=(0,V.GY)("copied"),(i=(0,o.gd)("SPAN","nx-source-copy-tooltip")).textContent=r,i.style.opacity=0,i.hidden=!0,(0,w.w)(i,r),s=i,d.append(s),d.addEventListener("click",(()=>(0,P.vQ)(e.textContent,(()=>{(0,a.Vn)(s,1e3)})))),d)),l}function M(t){if(t.srcData)return JSON.stringify(t.srcData)}function T(t){return t.dataUrl?'<div id="Nexus" data-src="'+t.dataUrl+'" data-id="'+t.threadId+'" data-style="'+(0,E.B)("style")+'" data-lang="'+(0,V.VQ)()+'"></div>\r\n<script src="https://cdn.jsdelivr.net/gh/I-is-as-I-does/Nexus-Prototype@0.2.0/cdn/js/NxViewerIO.js"><\/script>':""}function O(t,n=!1){return n&&(N=!0),(0,o.rH)("source",null,function(t){A=(0,o.gd)("DIV","nx-source-drawer"),N?A.append(function(t){return j("source",H(t,M))}(t)):A.append(function(t){return j("json",H(t,U))}(t),function(t){return j("embed",H(t,T))}(t)),A.style.display="none";var n,e,r=(0,o.gd)("DIV","nx-source-toggle"),i=(n="< />",(e=S("snippets","</>")).addEventListener("click",(()=>{e.textContent==n?(e.textContent="</>",e.classList.remove("nx-active"),(0,a.Vv)(A,100)):(e.textContent=n,e.classList.add("nx-active"),(0,a.YQ)(A,100,(function(){A.scrollIntoView({block:"end",behavior:"smooth",inline:"nearest"})})))})),e);return r.append(i),[r,A]}(t),!1)}var q,R,F,Q,Y=e(368),G=e(753),$=e(268);function B(t){var n=(0,o.gd)("DIV","nx-boken-media");return n.append(function(t){var n=(0,o.gd)("A","nx-external-link");return n.target="_blank",n.href=t,n.textContent=(0,G.Fj)(t,!0),n}(t)),n}function _(t){var n=(0,o.gd)("A","nx-external-link");return n.href=t,n.target="_blank",n.textContent=(0,G.Fj)(t,!0),n}function z(t){var n=(0,o.gd)("VIDEO");n.setAttribute("controls",!0);var e=(0,o.gd)("SOURCE");return e.src=t,n.append(e),e.onerror=()=>{(0,a.Mo)(n,B(t))},n}function W(t){var n=(0,o.gd)("AUDIO");return n.setAttribute("controls",!0),n.src=t,n.onerror=()=>{(0,a.Mo)(n,B(t))},n}function K(t){var n=(0,o.gd)("IMG");return n.src=t,n.onerror=()=>{(0,a.Mo)(n,B(t))},n}function J(t){var n=(0,o.gd)("DIV","nx-record-media");return q=(0,o.gd)("DIV"),function(t){t&&t.record.media.type&&function(t,n,e=null){var r={page:_,image:K,video:z,audio:W},o=function(n){q.className="nx-"+t+"-media",e?(0,a.Mo)(e,n):(0,a.am)(q,n,!1,!0,200)};if(r.hasOwnProperty(t))o(r[t](n));else{var i=(0,d.VG)(n);i?o((0,G.qm)(i)):(0,G.ie)((0,G.ip)(n,t,360)).then((t=>{(0,d.q1)(n,t),o((0,G.qm)(t))})).catch((t=>{(0,$.Pr)(t),o(B(n))}))}}(t.record.media.type,t.record.media.url)}(t),n.append(q,function(t){return rt(t,["record","media","caption"])}(t)),n}function X(t){var n=null;return t.threadId&&"/"!=t.threadId&&(n=t.srcData.threads[t.threadIndex]),n}function Z(t){return(R=(0,o.gd)("DIV")).append(...nt(t)),(0,o.rH)("distant",null,[R],!0)}function tt(t,n){var e=(0,o.iy)(t,!0);return function(t){(F=(0,o.gd)("DIV","nx-thread-description")).append(rt(t,["description"]))}(n),function(t){(Q=(0,o.gd)("DIV","nx-local-record")).append(et(t))}(n),(0,o.rH)("local",[e],[F,Q],!0)}function nt(t){var n=[];null!=t&&(n=t.linked);var e=(0,o.gd)("UL","nx-distant-records"),r=(0,o.gd)("UL","nx-distant-indexes");if(n.length){var d=[];n.forEach((t=>{(0,i.t$)(t.url,t.id).then((t=>{var n,i=[p(t,!1),c(t,!1),u(t,!1)];"/"==t.threadId?d.includes(t.threadId)||(d.push(t.threadId),(n=(0,o.gd)("LI")).append(...i),(0,a.am)(r,n,!1,!1,200)):((n=(0,o.gd)("LI")).append(...i),n.append(et(X(t))),(0,a.am)(e,n,!1,!1,200))}))}))}else{var s=(0,o.gd)("LI");s.textContent="...",e.append(s)}return[e,r]}function et(t){var n=(0,o.gd)("DIV","nx-record");return n.append(function(t){var n=(0,o.gd)("DIV","nx-record-meta"),e=rt(t,["record","timestamp"]);return n.append(e),n}(t),function(t){var n=(0,o.gd)("DIV","nx-record-body");return n.append(rt(t,["record","main"]),rt(t,["record","aside"])),n}(t),J(t)),n}function rt(t,n){var e=(0,o.gd)("P","nx-"+n.join("-"));return e.textContent=function(t,n=[]){if(t){for(var e=Object.assign({},t),r=0;r<n.length;r++)e=e[n[r]];if((0,Y.fw)(e))return e}return""}(t,n),e}function at(t,n){if(!t)return(0,o.ao)();var e=(0,o.gd)("DIV");e.append(function(t){!function(t){if(k=(0,o.gd)("UL"),t.srcData){var n=t.srcData.index;if(n.length)for(var e=0;e<n.length;e++)k.append(L(t,n[e],e));(0,i.Ek)((function(t){!function(t){var n=k.childNodes,e=t.srcData.index,r=e.length,o=n.length,i=0;if(o)for(var d=function(t){(0,a.Vv)(t,200,(function(){t.remove()}))},s=0;s<o;s++)if(r>s){var l=L(t,e[s],s);(0,a.Mo)(n[s],l),i++}else d(n[s]);if(i<r)for(var c=i;c<r;c++)(0,a.am)(k,L(t,e[c],c),!1,!0,200)}(t)}),!0)}}(t);var n=[l(t,!0),c(t,!0)],e=[D(t),k];return(0,o.rH)("index",n,e,!0)}(n));var d=(0,o.gd)("DIV");return d.append(...function(t){var n=X(t),e=[tt(t,n),Z(n)];return(0,i.Ek)((function(t){!function(t){var n=X(t),e=et(n),r=rt(n,["description"]);(0,a.Mo)(F.firstChild,r),(0,a.Mo)(Q.firstChild,e);var o=nt(n);Array.from(R.childNodes).forEach(((t,n)=>{(0,a.Mo)(t,o[n])}))}(t)})),e}(n)),(0,o.IW)([(0,r.wI)(),C(n)],[e,d],[O(n)])}},93:(t,n,e)=>{e.d(n,{T:()=>d,w:()=>s});var r=e(359),a=e(931),o={};function i(t,n){(0,a.Po)(t,(0,r.GY)(n),50)}function d(t){if((0,r.FC)(t))for(let[t,n]of Object.entries(o))n.forEach((n=>{i(n,t)}))}function s(t,n){o[n]||(o[n]=[]),o[n].push(t)}}}]);